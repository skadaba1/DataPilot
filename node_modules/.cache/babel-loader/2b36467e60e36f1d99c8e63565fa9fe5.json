{"ast":null,"code":"var _jsxFileName = \"/Users/avibasnet/Desktop/Harvest_ai/demo/harvest_demo/react-code-editor/src/components/Copilot.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\"; // import Head from 'next/head'\n// import Image from 'next/image'\n// import { Inter } from 'next/font/google'\n// import styles from '@/styles/Home.module.css'\n\nimport axios from 'axios'; // import TypingAnimation from \"../components/TypingAnimation\";\n// const inter = Inter({ subsets: ['latin'] })\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Copilot() {\n  _s();\n\n  const [inputValue, setInputValue] = useState('');\n  const [chatLog, setChatLog] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setChatLog(prevChatLog => [...prevChatLog, {\n      type: 'user',\n      message: inputValue\n    }]);\n    sendMessage(inputValue);\n    setInputValue('');\n  };\n\n  const sendMessage = message => {\n    const url = '/api/chat';\n    const data = {\n      model: \"gpt-3.5-turbo-0301\",\n      messages: [{\n        \"role\": \"user\",\n        \"content\": message\n      }]\n    };\n    setIsLoading(true);\n    axios.post(url, data).then(response => {\n      console.log(response);\n      setChatLog(prevChatLog => [...prevChatLog, {\n        type: 'bot',\n        message: response.data.choices[0].message.content\n      }]);\n      setIsLoading(false);\n    }).catch(error => {\n      setIsLoading(false);\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto max-w-[700px]\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col h-screen bg-gray-900\",\n      style: {\n        maxHeight: \"85vh\",\n        backgroundColor: \"#efefef\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"bg-gradient-to-r from-blue-500 to-purple-500 text-transparent bg-clip-text text-center py-3 font-bold text-2xl\",\n        children: \"Harvest Copilot\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-grow p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col space-y-4\",\n          children: [chatLog.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `${message.type === 'user' ? 'bg-purple-500' : 'bg-gray-800'} rounded-lg p-4 text-white max-w-sm`,\n              children: message.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 37\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 33\n          }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-start\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-800 rounded-lg p-4 text-white max-w-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 33\n            }, this)\n          }, chatLog.length, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"flex-none p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'relative'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex rounded-lg border border-white-700 bg-white-800\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"flex-grow px-4 py-2 focus:outline-none\",\n              style: {\n                backgroundColor: \"white\",\n                color: \"gray\",\n                borderRadius: \"8px\"\n              },\n              placeholder: \"Type your message...\",\n              value: inputValue,\n              onChange: e => setInputValue(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"absolute right-0 top-0 bottom-0 m-auto rounded-lg px-4 py-2 font-semibold focus:outline-none hover:bg-purple-600 transition-colors duration-300\",\n              style: {\n                background: 'transparent',\n                fontSize: '18px',\n                textShadow: '1px 1px 2px black'\n              },\n              children: \"\\u2192 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Copilot, \"w4lerCZCSnHtR0mlq/69q4dgNuM=\");\n\n_c = Copilot;\n\nvar _c;\n\n$RefreshReg$(_c, \"Copilot\");","map":{"version":3,"names":["useState","useEffect","axios","Copilot","inputValue","setInputValue","chatLog","setChatLog","isLoading","setIsLoading","handleSubmit","event","preventDefault","prevChatLog","type","message","sendMessage","url","data","model","messages","post","then","response","console","log","choices","content","catch","error","maxHeight","backgroundColor","map","index","length","position","color","borderRadius","e","target","value","background","fontSize","textShadow"],"sources":["/Users/avibasnet/Desktop/Harvest_ai/demo/harvest_demo/react-code-editor/src/components/Copilot.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n// import Head from 'next/head'\n// import Image from 'next/image'\n// import { Inter } from 'next/font/google'\n// import styles from '@/styles/Home.module.css'\nimport axios from 'axios';\n// import TypingAnimation from \"../components/TypingAnimation\";\n\n// const inter = Inter({ subsets: ['latin'] })\n\nexport default function Copilot() {\n    const [inputValue, setInputValue] = useState('');\n    const [chatLog, setChatLog] = useState([]);\n    const [isLoading, setIsLoading] = useState(false);\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n\n        setChatLog((prevChatLog) => [...prevChatLog, { type: 'user', message: inputValue }])\n\n        sendMessage(inputValue);\n\n        setInputValue('');\n    }\n\n    const sendMessage = (message) => {\n        const url = '/api/chat';\n\n        const data = {\n            model: \"gpt-3.5-turbo-0301\",\n            messages: [{ \"role\": \"user\", \"content\": message }]\n        };\n\n        setIsLoading(true);\n\n        axios.post(url, data).then((response) => {\n            console.log(response);\n            setChatLog((prevChatLog) => [...prevChatLog, { type: 'bot', message: response.data.choices[0].message.content }])\n            setIsLoading(false);\n        }).catch((error) => {\n            setIsLoading(false);\n            console.log(error);\n        })\n    }\n\n    return (\n        <div className=\"container mx-auto max-w-[700px]\">\n            <div className=\"flex flex-col h-screen bg-gray-900\" style={{ maxHeight: \"85vh\", backgroundColor: \"#efefef\" }}>\n                <h2 className=\"bg-gradient-to-r from-blue-500 to-purple-500 text-transparent bg-clip-text text-center py-3 font-bold text-2xl\">Harvest Copilot</h2>\n                <div className=\"flex-grow p-6\">\n                    <div className=\"flex flex-col space-y-4\">\n                        {\n                            chatLog.map((message, index) => (\n                                <div key={index} className={`flex ${message.type === 'user' ? 'justify-end' : 'justify-start'\n                                    }`}>\n                                    <div className={`${message.type === 'user' ? 'bg-purple-500' : 'bg-gray-800'\n                                        } rounded-lg p-4 text-white max-w-sm`}>\n                                        {message.message}\n                                    </div>\n                                </div>\n                            ))\n                        }\n                        {\n                            isLoading &&\n                            <div key={chatLog.length} className=\"flex justify-start\">\n                                <div className=\"bg-gray-800 rounded-lg p-4 text-white max-w-sm\">\n                                    {/* <TypingAnimation /> */}\n                                </div>\n                            </div>\n                        }\n                    </div>\n                </div>\n                {/* <form onSubmit={handleSubmit} className=\"flex-none p-6\">\n                    <div className=\"flex rounded-lg border border-white-700 bg-white-800\">\n                        <input type=\"text\" className=\"flex-grow px-4 py-2 focus:outline-none\" style={{ backgroundColor: \"white\", color: \"gray\", borderTopLeftRadius: \"8px\", borderBottomLeftRadius: \"8px\" }} placeholder=\"Type your message...\" value={inputValue} onChange={(e) => setInputValue(e.target.value)} />\n                        <button type=\"submit\" className=\"rounded-lg px-4 py-2 font-semibold focus:outline-none hover:bg-purple-600 transition-colors duration-300\">Send</button>\n                    </div>\n                </form> */}\n                <form onSubmit={handleSubmit} className=\"flex-none p-6\">\n                    <div style={{ position: 'relative' }}>\n                        <div className=\"flex rounded-lg border border-white-700 bg-white-800\">\n                            <input type=\"text\" className=\"flex-grow px-4 py-2 focus:outline-none\" style={{ backgroundColor: \"white\", color: \"gray\", borderRadius: \"8px\" }} placeholder=\"Type your message...\" value={inputValue} onChange={(e) => setInputValue(e.target.value)} />\n                            <button type=\"submit\" className=\"absolute right-0 top-0 bottom-0 m-auto rounded-lg px-4 py-2 font-semibold focus:outline-none hover:bg-purple-600 transition-colors duration-300\" style={{ background: 'transparent', fontSize: '18px', textShadow: '1px 1px 2px black' }}>\n                                &rarr; {/* HTML entity for right arrow */}\n                            </button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}